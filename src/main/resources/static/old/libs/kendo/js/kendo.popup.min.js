/*
* Kendo UI Complete v2012.3.1315 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e){function t(t,o){return t===o||e.contains(t,o)}var o=window.kendo,n=o.ui,i=n.Widget,s=o.support,r=o.getOffset,a=o.support.browser,l=a.msie&&9>a.version,p="open",d="close",c="deactivate",f="activate",u="center",m="left",g="right",h="top",w="bottom",v="absolute",_="hidden",b="body",k="location",y="position",x="visible",z="fitted",C="effects",P="k-state-active",T="k-state-border",W=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",I=e(document),H=e(window),O=e(document.documentElement),S="resize scroll",L=s.transitions.css,N=L+"transform",A=e.extend,F=".kendoPopup",R=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],j=i.extend({init:function(t,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||w+" "+g,n.position=n.position||h+" "+g),i.fn.init.call(r,t,n),t=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group"),n.appendTo=e(e(n.appendTo)[0]||s[0]||b),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:v}).appendTo(n.appendTo).on("mouseenter"+F,function(){r._hovered=!0}).on("mouseleave"+F,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),A(n.animation.open,{complete:function(){r.wrapper.css({overflow:x}),r.trigger(f)}}),A(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=b&&(i=l.hasClass(T+"-down")?"down":"up",s=T+"-"+i,l.removeClass(s).children(W).removeClass(P).removeClass(s),t.removeClass(T+"-"+o.directions[i].reverse)),r._closing=!1,r.trigger(c)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._currentWidth=I.width(),r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+F,e.proxy(r.toggle,r))},events:[p,f,d,c],options:{name:"Popup",toggleEvent:"click",origin:w+" "+m,position:h+" "+m,anchor:b,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var t,n=this,s=n.options,r=n.element.off(F);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(F),O.unbind(E,n._mousedownProxy),H.unbind(S,n._resizeProxy),s.appendTo[0]===document.body&&(t=r.parent(".k-animation-container"),t[0]?t.remove():r.remove()),o.destroy(n.element.children())},open:function(t,n){var i,r,a=this,l={isFixed:!isNaN(parseInt(n,10)),x:t,y:n},d=a.element,c=a.options,f="down",u=e(c.anchor);if(!a.visible()){if(d.css(o.getComputedStyles(u[0],R)),d.data("animating")||a.trigger(p))return;if(O.unbind(E,a._mousedownProxy).bind(E,a._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||H.unbind(S,a._resizeProxy).bind(S,a._resizeProxy),a.wrapper=r=o.wrap(d).css({overflow:_,display:"block",position:v}),s.mobileOS.android&&r.add(u).css(N,"translatez(0)"),r.css(y),e(c.appendTo)[0]==document.body&&r.css(h,"-10000px"),i=A(!0,{},c.animation.open),a.flipped=a._position(l),i.effects=o.parseEffects(i.effects,a.flipped),f=i.effects.slideIn?i.effects.slideIn.direction:f,c.anchor!=b){var m=T+"-"+f;d.addClass(T+"-"+o.directions[f].reverse),u.addClass(m).children(W).addClass(P).addClass(m)}d.data(C,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?d:p]()},visible:function(){return this.element.is(":"+x)},close:function(){var t,n,i,s=this,r=s.options;if(s.visible()){if(s._closing||s.trigger(d))return;s.element.find(".k-popup").each(function(){var t=e(this),o=t.data("kendoPopup");o&&o.close()}),O.unbind(E,s._mousedownProxy),H.unbind(S,s._resizeProxy),t=A(!0,{},r.animation.close),n=s.element.data(C),i=t.effects,s.wrapper=o.wrap(s.element).css({overflow:_}),!i&&!o.size(i)&&n&&o.size(n)&&(t.effects=n,t.reverse=!0),s._closing=!0,s.element.kendoStop(!0).kendoAnimate(t)}},_resize:function(){var e=this;if(l){var o=I.width();if(o==e._currentWidth)return;e._currentWidth=o}e._hovered||t(e.element[0],document.activeElement)||e.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,p=o.eventTarget(n),d=e(p).closest(".k-popup")[0];d&&d!==i.element[0]||t(s,p)||t(a,p)||l&&t(e(l)[0],p)||i.close()},_fit:function(e,t,o){var n=0;return e+t>o&&(n=o-(e+t)),0>e&&(n=-e),n},_flip:function(e,t,o,n,i,s,r){var a=0;return r=r||t,s!==i&&s!==u&&i!==u&&(e+r>n&&(a+=-(o+t)),0>e+a&&(a+=o+t)),a},_position:function(t){var o,n,i,a,l=this,p=l.element.css(y,""),d=l.wrapper,c=l.options,f=e(c.viewport),u=e(f).offset(),m=e(c.anchor),g=c.origin.toLowerCase().split(" "),h=c.position.toLowerCase().split(" "),w=l.collisions,_=s.zoomLevel(),b=10002,x=0;if(o=m.parents().filter(d.siblings()),o[0])if(i=Number(e(o).css("zIndex")))b=i+1;else for(n=m.parentsUntil(o),a=n.length;a>x;x++)i=Number(e(n[x]).css("zIndex")),i&&i>b&&(b=i+1);d.css("zIndex",b),t&&t.isFixed?d.css({left:t.x,top:t.y}):d.css(l._align(g,h));var C=r(d,y),P=r(d),T=m.offsetParent().parent(".k-animation-container");T.length&&T.data(z)&&(C=r(d,y),P=r(d)),f[0]===window?(P.top-=window.pageYOffset||document.documentElement.scrollTop||0,P.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(P.top-=u.top,P.left-=u.left),l.wrapper.data(k)||d.data(k,A({},C));var W=A({},P),E=A({},C);"fit"===w[0]&&(E.top+=l._fit(W.top,d.outerHeight(),f.height()/_)),"fit"===w[1]&&(E.left+=l._fit(W.left,d.outerWidth(),f.width()/_)),E.left!=C.left||E.top!=C.top?d.data(z,!0):d.removeData(z);var I=A({},E);return"flip"===w[0]&&(E.top+=l._flip(W.top,p.outerHeight(),m.outerHeight(),f.height()/_,g[0],h[0],d.outerHeight())),"flip"===w[1]&&(E.left+=l._flip(W.left,p.outerWidth(),m.outerWidth(),f.width()/_,g[1],h[1],d.outerWidth())),p.css(y,v),d.css(E),E.left!=I.left||E.top!=I.top},_align:function(t,o){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=t[0],p=t[1],d=o[0],c=o[1],f=r(a),m=e(i.options.appendTo),h=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),b=a.outerHeight(),k=f.top,y=f.left,x=Math.round;return m[0]!=document.body&&(n=r(m),k-=n.top,y-=n.left),l===w&&(k+=b),l===u&&(k+=x(b/2)),d===w&&(k-=v),d===u&&(k-=x(v/2)),p===g&&(y+=_),p===u&&(y+=x(_/2)),c===g&&(y-=h),c===u&&(y-=x(h/2)),{top:k,left:y}}});n.plugin(j)})(window.kendo.jQuery);