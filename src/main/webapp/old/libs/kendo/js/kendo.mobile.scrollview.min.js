/*
* Kendo UI Complete v2012.3.1315 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e){var n=window.kendo,i=n.mobile,t=i.ui,o=e.proxy,a=n.fx.Transition,s=n.ui.Pane,r=n.ui.PaneDimensions,l=t.Widget,d=Math,c=d.abs,h=d.ceil,p=d.round,m=d.max,u=d.min,g=d.floor,v="change",f="km-current-page",w=l.extend({init:function(i,t){var d=this;l.fn.init.call(d,i,t),i=d.element,i.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),d.inner=i.children().first(),d.pager=i.children().last(),d.page=0,d.inner.css("height",d.options.contentHeight),d.container().bind("show",e.proxy(this,"viewShow"));var h,p,m,u,g,f;h=new n.ui.Movable(d.inner),p=new a({axis:"x",movable:h,onEnd:o(d._transitionEnd,d)}),m=new n.UserEvents(i,{start:function(e){2*c(e.x.velocity)>=c(e.y.velocity)?m.capture():m.cancel(),p.cancel()},allowSelection:!0,end:o(d._dragEnd,d)}),u=new r({element:d.inner,container:d.element}),g=u.x,g.bind(v,o(d.refresh,d)),f=new s({dimensions:u,userEvents:m,movable:h,elastic:!0}),e.extend(d,{movable:h,transition:p,userEvents:m,dimensions:u,dimension:g,pane:f}),d.page=d.options.page},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,contentHeight:"auto",bounceVelocityThreshold:1.6},events:[v],destroy:function(){l.fn.destroy.call(this),this.userEvents.destroy(),n.destroy(this.element)},viewShow:function(){this.dimensions.refresh()},refresh:function(){var e,n=this,i="",t=n.dimension,o=t.getSize(),a=n.element.find("[data-role=page]");a.width(o),t.update(!0),a[0]||(n.page=Math.floor(-n.movable.x/o),n.scrollTo(n.page)),e=n.pages=h(t.getTotal()/o),n.minSnap=-(e-1)*o,n.maxSnap=0;for(var s=0;e>s;s++)i+="<li/>";n.pager.html(i),n._updatePager()},content:function(e){this.element.children().first().html(e),this.dimensions.refresh()},scrollTo:function(e){this.page=e,this._moveTo(-e*this.dimension.getSize(),a.easeOutExpo)},_moveTo:function(e,n){this.transition.moveTo({location:e,duration:this.options.duration,ease:n})},_dragEnd:function(e){var n,i=this,t=e.x.velocity,o=i.dimension.size,s=i.options,r=s.velocityThreshold,l=p,d=a.easeOutExpo;t>r?l=h:-r>t&&(l=g),c(t)>s.bounceVelocityThreshold&&(d=a.easeOutBack),n=m(i.minSnap,u(l(i.movable.x/o)*o,i.maxSnap)),this._moveTo(n,d)},_transitionEnd:function(){var e=this,n=Math.round(-e.movable.x/e.dimension.size);n!=e.page&&(e.page=n,e.trigger(v,{page:n}),e._updatePager())},_updatePager:function(){this.pager.children().removeClass(f).eq(this.page).addClass(f)}});t.plugin(w)})(window.kendo.jQuery);